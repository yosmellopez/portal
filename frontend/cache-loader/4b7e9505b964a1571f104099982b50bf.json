{"remainingRequest":"C:\\wamp64\\www\\portal\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\wamp64\\www\\portal\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\wamp64\\www\\portal\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\wamp64\\www\\portal\\frontend\\app\\account\\password\\password.component.ts","dependencies":[{"path":"C:\\wamp64\\www\\portal\\frontend\\app\\account\\password\\password.component.ts","mtime":1570162648898},{"path":"C:\\wamp64\\www\\portal\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\wamp64\\www\\portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\portal\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\portal\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\portal\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2EsIF9iOw0KaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7DQppbXBvcnQgeyBGb3JtQ29udHJvbCwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnOw0KaW1wb3J0IHsgQWNjb3VudFNlcnZpY2UgfSBmcm9tICdhcHAvY29yZS9hdXRoL2FjY291bnQuc2VydmljZSc7DQppbXBvcnQgeyBQYXNzd29yZFNlcnZpY2UgfSBmcm9tICcuL3Bhc3N3b3JkLnNlcnZpY2UnOw0KbGV0IFBhc3N3b3JkQ29tcG9uZW50ID0gY2xhc3MgUGFzc3dvcmRDb21wb25lbnQgew0KICAgIGNvbnN0cnVjdG9yKHBhc3N3b3JkU2VydmljZSwgYWNjb3VudFNlcnZpY2UpIHsNCiAgICAgICAgdGhpcy5wYXNzd29yZFNlcnZpY2UgPSBwYXNzd29yZFNlcnZpY2U7DQogICAgICAgIHRoaXMuYWNjb3VudFNlcnZpY2UgPSBhY2NvdW50U2VydmljZTsNCiAgICAgICAgdGhpcy5pc0xvYWRpbmdSZXN1bHRzID0gZmFsc2U7DQogICAgICAgIHRoaXMucGFzc3dvcmRGb3JtID0gbmV3IEZvcm1Hcm91cCh7DQogICAgICAgICAgICBjdXJyZW50UGFzc3dvcmQ6IG5ldyBGb3JtQ29udHJvbCgnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWRdKSwNCiAgICAgICAgICAgIG5ld1Bhc3N3b3JkOiBuZXcgRm9ybUNvbnRyb2woJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLm1pbkxlbmd0aCg0KSwgVmFsaWRhdG9ycy5tYXhMZW5ndGgoNTApXSksDQogICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6IG5ldyBGb3JtQ29udHJvbCgnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMubWluTGVuZ3RoKDQpLCBWYWxpZGF0b3JzLm1heExlbmd0aCg1MCldKQ0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5wYXNzd29yZEZvcm0uY29udHJvbHNbJ2NvbmZpcm1QYXNzd29yZCddLnNldFZhbGlkYXRvcnMoW1ZhbGlkYXRvcnMucmVxdWlyZWQsIHRoaXMubm9JZ3VhbFBhc3N3b3JkUmVwZWF0LmJpbmQodGhpcy5wYXNzd29yZEZvcm0pXSk7DQogICAgfQ0KICAgIG5nT25Jbml0KCkgew0KICAgICAgICB0aGlzLmFjY291bnRTZXJ2aWNlLmlkZW50aXR5KCkudGhlbihhY2NvdW50ID0+IHsNCiAgICAgICAgICAgIHRoaXMuYWNjb3VudCA9IGFjY291bnQ7DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBjaGFuZ2VQYXNzd29yZCgpIHsNCiAgICAgICAgY29uc3QgbmV3UGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkRm9ybS5nZXQoWyduZXdQYXNzd29yZCddKS52YWx1ZTsNCiAgICAgICAgaWYgKG5ld1Bhc3N3b3JkICE9PSB0aGlzLnBhc3N3b3JkRm9ybS5nZXQoWydjb25maXJtUGFzc3dvcmQnXSkudmFsdWUpIHsNCiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5zdWNjZXNzID0gbnVsbDsNCiAgICAgICAgICAgIHRoaXMuZG9Ob3RNYXRjaCA9ICdFUlJPUic7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICB0aGlzLmRvTm90TWF0Y2ggPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmdSZXN1bHRzID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRTZXJ2aWNlLnNhdmUobmV3UGFzc3dvcmQsIHRoaXMucGFzc3dvcmRGb3JtLmdldChbJ2N1cnJlbnRQYXNzd29yZCddKS52YWx1ZSkuc3Vic2NyaWJlKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZ1Jlc3VsdHMgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbDsNCiAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSAnT0snOw0KICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRGb3JtLnJlc2V0KHsgY3VycmVudFBhc3N3b3JkOiAnJywgbmV3UGFzc3dvcmQ6ICcnLCBjb25maXJtUGFzc3dvcmQ6ICcnIH0pOw0KICAgICAgICAgICAgfSwgKHJlcykgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nUmVzdWx0cyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuc3VjY2VzcyA9IG51bGw7DQogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHJlcy5lcnJvci5lcnJvcjsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KICAgIG5vSWd1YWxQYXNzd29yZFJlcGVhdChjb250cm9sKSB7DQogICAgICAgIGxldCBmb3JtdWxhcmlvID0gdGhpczsNCiAgICAgICAgaWYgKGZvcm11bGFyaW8uY29udHJvbHNbJ25ld1Bhc3N3b3JkJ10udmFsdWUgIT09IGNvbnRyb2wudmFsdWUpIHsNCiAgICAgICAgICAgIHJldHVybiB7IG5vaWd1YWw6IHRydWUgfTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9DQp9Ow0KUGFzc3dvcmRDb21wb25lbnQgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIENvbXBvbmVudCh7DQogICAgICAgIHNlbGVjdG9yOiAnamhpLXBhc3N3b3JkJywNCiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3Bhc3N3b3JkLmNvbXBvbmVudC5odG1sJw0KICAgIH0pLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbdHlwZW9mIChfYSA9IHR5cGVvZiBQYXNzd29yZFNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIFBhc3N3b3JkU2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCwgdHlwZW9mIChfYiA9IHR5cGVvZiBBY2NvdW50U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgQWNjb3VudFNlcnZpY2UpID09PSAiZnVuY3Rpb24iID8gX2IgOiBPYmplY3RdKQ0KXSwgUGFzc3dvcmRDb21wb25lbnQpOw0KZXhwb3J0IHsgUGFzc3dvcmRDb21wb25lbnQgfTsNCg=="},{"version":3,"file":"C:\\wamp64\\www\\portal\\frontend\\app\\account\\password\\password.component.ts","sourceRoot":"","sources":["C:\\wamp64\\www\\portal\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\wamp64\\www\\portal\\frontend\\app\\account\\password\\password.component.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AAClD,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAEpE,OAAO,EAAE,cAAc,EAAE,MAAM,+BAA+B,CAAC;AAC/D,OAAO,EAAE,eAAe,EAAE,MAAM,oBAAoB,CAAC;AAOrD,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAQ1B,YAAoB,eAAgC,EAAU,cAA8B;QAAxE,oBAAe,GAAf,eAAe,CAAiB;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAH5F,qBAAgB,GAAG,KAAK,CAAC;QAIrB,IAAI,CAAC,YAAY,GAAG,IAAI,SAAS,CAAC;YAC9B,eAAe,EAAE,IAAI,WAAW,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC3D,WAAW,EAAE,IAAI,WAAW,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1G,eAAe,EAAE,IAAI,WAAW,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;SACjH,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IAC3I,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YAC1C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,cAAc;QACV,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC;QACjE,IAAI,WAAW,KAAK,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,EAAE;YAClE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;SAC7B;aAAM;YACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAC9F,GAAG,EAAE;gBACD,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC9B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAC,eAAe,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,EAAE,eAAe,EAAE,EAAE,EAAC,CAAC,CAAC;YACzF,CAAC,EAAE,CAAC,GAAsB,EAAE,EAAE;gBAC1B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC9B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;YACjC,CAAC,CACJ,CAAC;SACL;IACL,CAAC;IAED,qBAAqB,CAAC,OAAoB;QACtC,IAAI,UAAU,GAAQ,IAAI,CAAC;QAC3B,IAAI,UAAU,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,KAAK,KAAK,OAAO,CAAC,KAAK,EAAE;YAC5D,OAAO,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC;SAC1B;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ,CAAA;AAtDY,iBAAiB;IAJ7B,SAAS,CAAC;QACP,QAAQ,EAAE,cAAc;QACxB,WAAW,EAAE,2BAA2B;KAC3C,CAAC;iEASuC,eAAe,oBAAf,eAAe,oDAA0B,cAAc,oBAAd,cAAc;GARnF,iBAAiB,CAsD7B;SAtDY,iBAAiB","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { AccountService } from 'app/core/auth/account.service';\nimport { PasswordService } from './password.service';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n@Component({\n    selector: 'jhi-password',\n    templateUrl: './password.component.html'\n})\nexport class PasswordComponent implements OnInit {\n    doNotMatch: string;\n    error: string;\n    success: string;\n    account: any;\n    isLoadingResults = false;\n    passwordForm: FormGroup;\n\n    constructor(private passwordService: PasswordService, private accountService: AccountService) {\n        this.passwordForm = new FormGroup({\n            currentPassword: new FormControl('', [Validators.required]),\n            newPassword: new FormControl('', [Validators.required, Validators.minLength(4), Validators.maxLength(50)]),\n            confirmPassword: new FormControl('', [Validators.required, Validators.minLength(4), Validators.maxLength(50)])\n        });\n        this.passwordForm.controls['confirmPassword'].setValidators([Validators.required, this.noIgualPasswordRepeat.bind(this.passwordForm)]);\n    }\n\n    ngOnInit() {\n        this.accountService.identity().then(account => {\n            this.account = account;\n        });\n    }\n\n    changePassword() {\n        const newPassword = this.passwordForm.get(['newPassword']).value;\n        if (newPassword !== this.passwordForm.get(['confirmPassword']).value) {\n            this.error = null;\n            this.success = null;\n            this.doNotMatch = 'ERROR';\n        } else {\n            this.doNotMatch = null;\n            this.isLoadingResults = true;\n            this.passwordService.save(newPassword, this.passwordForm.get(['currentPassword']).value).subscribe(\n                () => {\n                    this.isLoadingResults = false;\n                    this.error = null;\n                    this.success = 'OK';\n                    this.passwordForm.reset({currentPassword: '', newPassword: '', confirmPassword: ''});\n                }, (res: HttpErrorResponse) => {\n                    this.isLoadingResults = false;\n                    this.success = null;\n                    this.error = res.error.error;\n                }\n            );\n        }\n    }\n\n    noIgualPasswordRepeat(control: FormControl) {\n        let formulario: any = this;\n        if (formulario.controls['newPassword'].value !== control.value) {\n            return {noigual: true};\n        }\n        return null;\n    }\n}\n"]}]}
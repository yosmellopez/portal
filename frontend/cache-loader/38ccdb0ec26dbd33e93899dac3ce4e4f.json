{"remainingRequest":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\ts-loader\\index.js??ref--9-3!D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\eslint-loader\\dist\\cjs.js!D:\\Programacion\\EspacioPHP\\portalventura\\frontend\\app\\account\\password\\password.component.ts","dependencies":[{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\frontend\\app\\account\\password\\password.component.ts","mtime":1582479646993},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9hLCBfYjsNCmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOw0KaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7DQppbXBvcnQgeyBGb3JtQ29udHJvbCwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnOw0KaW1wb3J0IHsgQWNjb3VudFNlcnZpY2UgfSBmcm9tICdhcHAvY29yZS9hdXRoL2FjY291bnQuc2VydmljZSc7DQppbXBvcnQgeyBQYXNzd29yZFNlcnZpY2UgfSBmcm9tICcuL3Bhc3N3b3JkLnNlcnZpY2UnOw0KbGV0IFBhc3N3b3JkQ29tcG9uZW50ID0gY2xhc3MgUGFzc3dvcmRDb21wb25lbnQgew0KICAgIGNvbnN0cnVjdG9yKHBhc3N3b3JkU2VydmljZSwgYWNjb3VudFNlcnZpY2UpIHsNCiAgICAgICAgdGhpcy5wYXNzd29yZFNlcnZpY2UgPSBwYXNzd29yZFNlcnZpY2U7DQogICAgICAgIHRoaXMuYWNjb3VudFNlcnZpY2UgPSBhY2NvdW50U2VydmljZTsNCiAgICAgICAgdGhpcy5pc0xvYWRpbmdSZXN1bHRzID0gZmFsc2U7DQogICAgICAgIHRoaXMucGFzc3dvcmRGb3JtID0gbmV3IEZvcm1Hcm91cCh7DQogICAgICAgICAgICBjdXJyZW50UGFzc3dvcmQ6IG5ldyBGb3JtQ29udHJvbCgnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWRdKSwNCiAgICAgICAgICAgIG5ld1Bhc3N3b3JkOiBuZXcgRm9ybUNvbnRyb2woJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLm1pbkxlbmd0aCg0KSwgVmFsaWRhdG9ycy5tYXhMZW5ndGgoNTApXSksDQogICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6IG5ldyBGb3JtQ29udHJvbCgnJywgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMubWluTGVuZ3RoKDQpLCBWYWxpZGF0b3JzLm1heExlbmd0aCg1MCldKQ0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5wYXNzd29yZEZvcm0uY29udHJvbHNbJ2NvbmZpcm1QYXNzd29yZCddLnNldFZhbGlkYXRvcnMoW1ZhbGlkYXRvcnMucmVxdWlyZWQsIHRoaXMubm9JZ3VhbFBhc3N3b3JkUmVwZWF0LmJpbmQodGhpcy5wYXNzd29yZEZvcm0pXSk7DQogICAgfQ0KICAgIG5nT25Jbml0KCkgew0KICAgICAgICB0aGlzLmFjY291bnRTZXJ2aWNlLmlkZW50aXR5KCkuc3Vic2NyaWJlKGFjY291bnQgPT4gew0KICAgICAgICAgICAgdGhpcy5hY2NvdW50ID0gYWNjb3VudDsNCiAgICAgICAgfSk7DQogICAgfQ0KICAgIGNoYW5nZVBhc3N3b3JkKCkgew0KICAgICAgICBjb25zdCBuZXdQYXNzd29yZCA9IHRoaXMucGFzc3dvcmRGb3JtLmdldChbJ25ld1Bhc3N3b3JkJ10pLnZhbHVlOw0KICAgICAgICBpZiAobmV3UGFzc3dvcmQgIT09IHRoaXMucGFzc3dvcmRGb3JtLmdldChbJ2NvbmZpcm1QYXNzd29yZCddKS52YWx1ZSkgew0KICAgICAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7DQogICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5kb05vdE1hdGNoID0gJ0VSUk9SJzsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuZG9Ob3RNYXRjaCA9IG51bGw7DQogICAgICAgICAgICB0aGlzLmlzTG9hZGluZ1Jlc3VsdHMgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5wYXNzd29yZFNlcnZpY2Uuc2F2ZShuZXdQYXNzd29yZCwgdGhpcy5wYXNzd29yZEZvcm0uZ2V0KFsnY3VycmVudFBhc3N3b3JkJ10pLnZhbHVlKS5zdWJzY3JpYmUoKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nUmVzdWx0cyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsOw0KICAgICAgICAgICAgICAgIHRoaXMuc3VjY2VzcyA9ICdPSyc7DQogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZEZvcm0ucmVzZXQoeyBjdXJyZW50UGFzc3dvcmQ6ICcnLCBuZXdQYXNzd29yZDogJycsIGNvbmZpcm1QYXNzd29yZDogJycgfSk7DQogICAgICAgICAgICB9LCAocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmdSZXN1bHRzID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzID0gbnVsbDsNCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gcmVzLmVycm9yLmVycm9yOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQogICAgbm9JZ3VhbFBhc3N3b3JkUmVwZWF0KGNvbnRyb2wpIHsNCiAgICAgICAgbGV0IGZvcm11bGFyaW8gPSB0aGlzOw0KICAgICAgICBpZiAoZm9ybXVsYXJpby5jb250cm9sc1snbmV3UGFzc3dvcmQnXS52YWx1ZSAhPT0gY29udHJvbC52YWx1ZSkgew0KICAgICAgICAgICAgcmV0dXJuIHsgbm9pZ3VhbDogdHJ1ZSB9Ow0KICAgICAgICB9DQogICAgICAgIHJldHVybiBudWxsOw0KICAgIH0NCn07DQpQYXNzd29yZENvbXBvbmVudCA9IHRzbGliXzEuX19kZWNvcmF0ZShbDQogICAgQ29tcG9uZW50KHsNCiAgICAgICAgc2VsZWN0b3I6ICdqaGktcGFzc3dvcmQnLA0KICAgICAgICB0ZW1wbGF0ZVVybDogJy4vcGFzc3dvcmQuY29tcG9uZW50Lmh0bWwnDQogICAgfSksDQogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIFBhc3N3b3JkU2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgUGFzc3dvcmRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9hIDogT2JqZWN0LCB0eXBlb2YgKF9iID0gdHlwZW9mIEFjY291bnRTZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBBY2NvdW50U2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYiA6IE9iamVjdF0pDQpdLCBQYXNzd29yZENvbXBvbmVudCk7DQpleHBvcnQgeyBQYXNzd29yZENvbXBvbmVudCB9Ow0K"},{"version":3,"file":"D:\\Programacion\\EspacioPHP\\portalventura\\frontend\\app\\account\\password\\password.component.ts","sourceRoot":"","sources":["D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\eslint-loader\\dist\\cjs.js!D:\\Programacion\\EspacioPHP\\portalventura\\frontend\\app\\account\\password\\password.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { AccountService } from 'app/core/auth/account.service';\r\nimport { PasswordService } from './password.service';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\n\r\n@Component({\r\n    selector: 'jhi-password',\r\n    templateUrl: './password.component.html'\r\n})\r\nexport class PasswordComponent implements OnInit {\r\n    doNotMatch: string;\r\n    error: string;\r\n    success: string;\r\n    account: any;\r\n    isLoadingResults = false;\r\n    passwordForm: FormGroup;\r\n\r\n    constructor(private passwordService: PasswordService, private accountService: AccountService) {\r\n        this.passwordForm = new FormGroup({\r\n            currentPassword: new FormControl('', [Validators.required]),\r\n            newPassword: new FormControl('', [Validators.required, Validators.minLength(4), Validators.maxLength(50)]),\r\n            confirmPassword: new FormControl('', [Validators.required, Validators.minLength(4), Validators.maxLength(50)])\r\n        });\r\n        this.passwordForm.controls['confirmPassword'].setValidators([Validators.required, this.noIgualPasswordRepeat.bind(this.passwordForm)]);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.accountService.identity().subscribe(account => {\r\n            this.account = account;\r\n        });\r\n    }\r\n\r\n    changePassword() {\r\n        const newPassword = this.passwordForm.get(['newPassword']).value;\r\n        if (newPassword !== this.passwordForm.get(['confirmPassword']).value) {\r\n            this.error = null;\r\n            this.success = null;\r\n            this.doNotMatch = 'ERROR';\r\n        } else {\r\n            this.doNotMatch = null;\r\n            this.isLoadingResults = true;\r\n            this.passwordService.save(newPassword, this.passwordForm.get(['currentPassword']).value).subscribe(\r\n                () => {\r\n                    this.isLoadingResults = false;\r\n                    this.error = null;\r\n                    this.success = 'OK';\r\n                    this.passwordForm.reset({currentPassword: '', newPassword: '', confirmPassword: ''});\r\n                }, (res: HttpErrorResponse) => {\r\n                    this.isLoadingResults = false;\r\n                    this.success = null;\r\n                    this.error = res.error.error;\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    noIgualPasswordRepeat(control: FormControl) {\r\n        let formulario: any = this;\r\n        if (formulario.controls['newPassword'].value !== control.value) {\r\n            return {noigual: true};\r\n        }\r\n        return null;\r\n    }\r\n}\r\n"]}]}
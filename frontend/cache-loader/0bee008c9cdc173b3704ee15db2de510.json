{"remainingRequest":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\ts-loader\\index.js??ref--9-3!D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\eslint-loader\\dist\\cjs.js!D:\\Programacion\\EspacioPHP\\portalventura\\frontend\\app\\account\\password-reset\\init\\password-reset-init.component.ts","dependencies":[{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\frontend\\app\\account\\password-reset\\init\\password-reset-init.component.ts","mtime":1582669321101},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9hLCBfYjsNCmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOw0KaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsNCmltcG9ydCB7IEZvcm1Db250cm9sLCBGb3JtR3JvdXAsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7DQppbXBvcnQgeyBFTUFJTF9OT1RfRk9VTkRfVFlQRSB9IGZyb20gJ2FwcC9zaGFyZWQvY29uc3RhbnRzL2Vycm9yLmNvbnN0YW50cyc7DQppbXBvcnQgeyBQYXNzd29yZFJlc2V0SW5pdFNlcnZpY2UgfSBmcm9tICcuL3Bhc3N3b3JkLXJlc2V0LWluaXQuc2VydmljZSc7DQpsZXQgUGFzc3dvcmRSZXNldEluaXRDb21wb25lbnQgPSBjbGFzcyBQYXNzd29yZFJlc2V0SW5pdENvbXBvbmVudCB7DQogICAgY29uc3RydWN0b3IocGFzc3dvcmRSZXNldEluaXRTZXJ2aWNlKSB7DQogICAgICAgIHRoaXMucGFzc3dvcmRSZXNldEluaXRTZXJ2aWNlID0gcGFzc3dvcmRSZXNldEluaXRTZXJ2aWNlOw0KICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLnJlc2V0UmVxdWVzdEZvcm0gPSBuZXcgRm9ybUdyb3VwKHsNCiAgICAgICAgICAgIGVtYWlsOiBuZXcgRm9ybUNvbnRyb2woJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBWYWxpZGF0b3JzLm1pbkxlbmd0aCg1KSwgVmFsaWRhdG9ycy5tYXhMZW5ndGgoMjU0KSwgVmFsaWRhdG9ycy5lbWFpbF0pDQogICAgICAgIH0pOw0KICAgIH0NCiAgICBuZ0FmdGVyVmlld0luaXQoKSB7DQogICAgICAgIHRoaXMuZW1haWxJbnB1dC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7DQogICAgfQ0KICAgIHJlcXVlc3RSZXNldCgpIHsNCiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOw0KICAgICAgICB0aGlzLmF1dGhlbnRpY2F0aW9uRXJyb3IgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7DQogICAgICAgIHRoaXMuZXJyb3JFbWFpbE5vdEV4aXN0cyA9IG51bGw7DQogICAgICAgIHRoaXMucGFzc3dvcmRSZXNldEluaXRTZXJ2aWNlLnNhdmUodGhpcy5yZXNldFJlcXVlc3RGb3JtLmdldChbJ2VtYWlsJ10pLnZhbHVlKS5zdWJzY3JpYmUoKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuYXV0aGVudGljYXRpb25FcnJvciA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5zdWNjZXNzID0gJ09LJzsNCiAgICAgICAgfSwgcmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuYXV0aGVudGljYXRpb25FcnJvciA9IHRydWU7DQogICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBudWxsOw0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwICYmIHJlc3BvbnNlLmVycm9yLnR5cGUgPT09IEVNQUlMX05PVF9GT1VORF9UWVBFKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lcnJvckVtYWlsTm90RXhpc3RzID0gJ0VSUk9SJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAnRVJST1InOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQp9Ow0KdHNsaWJfMS5fX2RlY29yYXRlKFsNCiAgICBWaWV3Q2hpbGQoJ2VtYWlsSW5wdXQnLCB7IHN0YXRpYzogZmFsc2UgfSksDQogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246dHlwZSIsIHR5cGVvZiAoX2EgPSB0eXBlb2YgRWxlbWVudFJlZiAhPT0gInVuZGVmaW5lZCIgJiYgRWxlbWVudFJlZikgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCkNCl0sIFBhc3N3b3JkUmVzZXRJbml0Q29tcG9uZW50LnByb3RvdHlwZSwgImVtYWlsSW5wdXQiLCB2b2lkIDApOw0KUGFzc3dvcmRSZXNldEluaXRDb21wb25lbnQgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIENvbXBvbmVudCh7DQogICAgICAgIHNlbGVjdG9yOiAnamhpLXBhc3N3b3JkLXJlc2V0LWluaXQnLA0KICAgICAgICB0ZW1wbGF0ZVVybDogJy4vcGFzc3dvcmQtcmVzZXQtaW5pdC5jb21wb25lbnQuaHRtbCcsDQogICAgICAgIHN0eWxlVXJsczogWycuL3Bhc3N3b3JkLXJlc2V0LWluaXQuY29tcG9uZW50LnNjc3MnXQ0KICAgIH0pLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbdHlwZW9mIChfYiA9IHR5cGVvZiBQYXNzd29yZFJlc2V0SW5pdFNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIFBhc3N3b3JkUmVzZXRJbml0U2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYiA6IE9iamVjdF0pDQpdLCBQYXNzd29yZFJlc2V0SW5pdENvbXBvbmVudCk7DQpleHBvcnQgeyBQYXNzd29yZFJlc2V0SW5pdENvbXBvbmVudCB9Ow0K"},{"version":3,"file":"D:\\Programacion\\EspacioPHP\\portalventura\\frontend\\app\\account\\password-reset\\init\\password-reset-init.component.ts","sourceRoot":"","sources":["D:\\Programacion\\EspacioPHP\\portalventura\\node_modules\\eslint-loader\\dist\\cjs.js!D:\\Programacion\\EspacioPHP\\portalventura\\frontend\\app\\account\\password-reset\\init\\password-reset-init.component.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAC,SAAS,EAAiB,UAAU,EAAE,SAAS,EAAC,MAAM,eAAe,CAAC;AAC9E,OAAO,EAAC,WAAW,EAAE,SAAS,EAAE,UAAU,EAAC,MAAM,gBAAgB,CAAC;AAElE,OAAO,EAAC,oBAAoB,EAAC,MAAM,sCAAsC,CAAC;AAC1E,OAAO,EAAC,wBAAwB,EAAC,MAAM,+BAA+B,CAAC;AAOvE,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;IASnC,YAAoB,wBAAkD;QAAlD,6BAAwB,GAAxB,wBAAwB,CAA0B;QAJtE,cAAS,GAAY,KAAK,CAAC;QAKvB,IAAI,CAAC,gBAAgB,GAAG,IAAI,SAAS,CAAC;YAClC,KAAK,EAAE,IAAI,WAAW,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;SAC1H,CAAC,CAAC;IACP,CAAC;IAED,eAAe;QACX,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;IAC1C,CAAC;IAED,YAAY;QACR,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAEhC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CACpF,GAAG,EAAE;YACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACxB,CAAC,EACD,QAAQ,CAAC,EAAE;YACP,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,KAAK,oBAAoB,EAAE;gBACzE,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC;aACtC;iBAAM;gBACH,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;aACxB;QACL,CAAC,CACJ,CAAC;IACN,CAAC;CACJ,CAAA;AArC6C;IAAzC,SAAS,CAAC,YAAY,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC;0DAAa,UAAU,oBAAV,UAAU;8DAAC;AANxD,0BAA0B;IALtC,SAAS,CAAC;QACP,QAAQ,EAAE,yBAAyB;QACnC,WAAW,EAAE,sCAAsC;QACnD,SAAS,EAAE,CAAC,sCAAsC,CAAC;KACtD,CAAC;iEAUgD,wBAAwB,oBAAxB,wBAAwB;GAT7D,0BAA0B,CA2CtC;SA3CY,0BAA0B","sourcesContent":["import {Component, AfterViewInit, ElementRef, ViewChild} from '@angular/core';\r\nimport {FormControl, FormGroup, Validators} from '@angular/forms';\r\n\r\nimport {EMAIL_NOT_FOUND_TYPE} from 'app/shared/constants/error.constants';\r\nimport {PasswordResetInitService} from './password-reset-init.service';\r\n\r\n@Component({\r\n    selector: 'jhi-password-reset-init',\r\n    templateUrl: './password-reset-init.component.html',\r\n    styleUrls: ['./password-reset-init.component.scss']\r\n})\r\nexport class PasswordResetInitComponent implements AfterViewInit {\r\n    authenticationError: boolean;\r\n    error: string;\r\n    errorEmailNotExists: string;\r\n    success: string;\r\n    isLoading: boolean = false;\r\n    @ViewChild('emailInput', {static: false}) emailInput: ElementRef;\r\n    resetRequestForm: FormGroup;\r\n\r\n    constructor(private passwordResetInitService: PasswordResetInitService) {\r\n        this.resetRequestForm = new FormGroup({\r\n            email: new FormControl('', [Validators.required, Validators.minLength(5), Validators.maxLength(254), Validators.email])\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.emailInput.nativeElement.focus();\r\n    }\r\n\r\n    requestReset() {\r\n        this.isLoading = true;\r\n        this.authenticationError = false;\r\n        this.error = null;\r\n        this.errorEmailNotExists = null;\r\n\r\n        this.passwordResetInitService.save(this.resetRequestForm.get(['email']).value).subscribe(\r\n            () => {\r\n                this.isLoading = false;\r\n                this.authenticationError = false;\r\n                this.success = 'OK';\r\n            },\r\n            response => {\r\n                this.isLoading = false;\r\n                this.authenticationError = true;\r\n                this.success = null;\r\n                if (response.status === 400 && response.error.type === EMAIL_NOT_FOUND_TYPE) {\r\n                    this.errorEmailNotExists = 'ERROR';\r\n                } else {\r\n                    this.error = 'ERROR';\r\n                }\r\n            }\r\n        );\r\n    }\r\n}\r\n"]}]}